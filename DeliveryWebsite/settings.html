<html lang="en">
 <head>
  <meta charset="utf-8" />
  <meta content="width=device-width, initial-scale=1" name="viewport" />
  <title>Settings - Ecommerce Dashboard</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"
    rel="stylesheet"
  />
  <link
    href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap"
    rel="stylesheet"
  />
  <style>
    body {
      font-family: "Inter", sans-serif;
    }
    nav::-webkit-scrollbar,
    section::-webkit-scrollbar {
      width: 8px;
    }
    nav::-webkit-scrollbar-track,
    section::-webkit-scrollbar-track {
      background: #f1f5f9;
      border-radius: 4px;
    }
    nav::-webkit-scrollbar-thumb,
    section::-webkit-scrollbar-thumb {
      background-color: #cbd5e1;
      border-radius: 4px;
    }
    nav::-webkit-scrollbar-thumb:hover,
    section::-webkit-scrollbar-thumb:hover {
      background-color: #94a3b8;
    }
  </style>
 </head>
 <body class="bg-gradient-to-r from-blue-50 via-white to-blue-50 min-h-screen flex flex-col">
  <header
    class="bg-white shadow-md sticky top-0 z-40 transition-shadow duration-300 hover:shadow-lg"
  >
   <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="flex justify-between items-center h-14">
     <div
       class="flex items-center space-x-3 cursor-pointer select-none group"
       tabindex="0"
       role="banner"
     >
      <img
        alt="Ecommerce logo icon, blue backpack icon"
        class="w-8 h-8 transform transition-transform duration-300 group-hover:rotate-12"
        height="32"
        src="https://storage.googleapis.com/a1aa/image/9044a6b1-88c0-4ded-2670-5f264f653131.jpg"
        width="32"
      />
      <span
        class="font-extrabold text-[#1e293b] text-xl tracking-wider select-none"
        >Ecommerce Dashboard</span
      >
     </div>
     <div class="flex items-center space-x-6">
      <button
        aria-label="Notifications"
        class="text-[#475569] hover:text-[#1e293b] transition-colors duration-300 relative group focus:outline-none focus:ring-2 focus:ring-blue-500 rounded"
      >
       <i class="fas fa-bell fa-lg"></i>
       <span
         class="absolute top-0 right-0 block w-2.5 h-2.5 rounded-full bg-red-500 ring-2 ring-white animate-pulse"
       ></span>
      </button>
      <button
        aria-label="User profile"
        class="text-[#475569] hover:text-[#1e293b] transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-blue-500 rounded"
      >
       <i class="fas fa-user-circle fa-lg"></i>
      </button>
      <a
        class="bg-red-600 hover:bg-red-700 text-white font-semibold text-sm rounded-lg px-5 py-2 shadow-md hover:shadow-lg transition-all duration-300 transform hover:-translate-y-0.5 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-1"
        href="index.html"
        >Logout</a
      >
     </div>
    </div>
   </div>
  </header>
  <main
    class="flex flex-1 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mt-8 mb-12 space-x-6 overflow-x-hidden"
  >
   <nav
     aria-label="Sidebar"
     class="bg-white rounded-2xl shadow-lg w-64 flex-shrink-0 overflow-y-auto max-h-[calc(100vh-96px)] scrollbar-thin scrollbar-thumb-[#cbd5e1] scrollbar-track-[#f1f5f9] transition-shadow duration-300 hover:shadow-2xl"
   >
    <ul class="py-8 space-y-4 text-base font-semibold text-[#475569]">
     <li>
      <a
        class="flex items-center space-x-4 px-8 py-3 rounded-2xl hover:bg-blue-100 hover:text-blue-700 transition-colors duration-300"
        href="dashboard.html"
      >
       <i class="fas fa-tachometer-alt text-[#64748b] text-xl"></i>
       <span>Dashboard</span>
      </a>
     </li>
     <li>
      <a
        class="flex items-center space-x-4 px-8 py-3 rounded-2xl hover:bg-blue-100 hover:text-blue-700 transition-colors duration-300"
        href="products.html"
      >
       <i class="fas fa-box-open text-[#64748b] text-xl"></i>
       <span>Products</span>
      </a>
     </li>
     <li>
      <a
        class="flex items-center space-x-4 px-8 py-3 rounded-2xl hover:bg-blue-100 hover:text-blue-700 transition-colors duration-300"
        href="orders.html"
      >
       <i class="fas fa-shopping-cart text-[#64748b] text-xl"></i>
       <span>Orders</span>
      </a>
     </li>
     <li>
      <a
        class="flex items-center space-x-4 px-8 py-3 rounded-2xl hover:bg-blue-100 hover:text-blue-700 transition-colors duration-300"
        href="customers.html"
      >
       <i class="fas fa-users text-[#64748b] text-xl"></i>
       <span>Customers</span>
      </a>
     </li>
     <li>
      <a
        class="flex items-center space-x-4 px-8 py-3 rounded-2xl hover:bg-blue-100 hover:text-blue-700 transition-colors duration-300"
        href="analytics.html"
      >
       <i class="fas fa-chart-line text-[#64748b] text-xl"></i>
       <span>Analytics</span>
      </a>
     </li>
     <li>
      <a
        class="flex items-center space-x-4 px-8 py-3 rounded-2xl bg-blue-100 text-blue-700 font-extrabold shadow-inner shadow-blue-300"
        href="#"
      >
       <i class="fas fa-cog text-blue-700 text-xl"></i>
       <span>Settings</span>
      </a>
     </li>
    </ul>
   </nav>
   <section
     class="flex-1 flex flex-col space-y-8 overflow-y-auto max-h-[calc(100vh-96px)] pr-2 scrollbar-thin scrollbar-thumb-[#cbd5e1] scrollbar-track-[#f1f5f9]"
   >
    <h1 class="text-3xl font-extrabold text-[#1e293b] tracking-wide">
     Settings
    </h1>
    <div
      class="bg-white rounded-3xl shadow-2xl p-10 max-w-4xl w-full mx-auto border border-blue-200"
    >
     <form class="space-y-8" id="settingsForm" novalidate>
      <fieldset class="space-y-4">
       <legend class="text-xl font-semibold text-blue-700 border-b border-blue-300 pb-2">
        Profile Information
       </legend>
       <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <div>
         <label
           class="block text-sm font-medium text-[#475569] mb-2"
           for="username"
           >Username</label
         >
         <input
           class="w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-4 focus:ring-blue-300 transition"
           id="username"
           name="username"
           type="text"
           placeholder="john_doe"
           required
         />
         <p class="mt-1 text-xs text-red-600 hidden" id="usernameError">
          Username is required.
         </p>
        </div>
        <div>
         <label
           class="block text-sm font-medium text-[#475569] mb-2"
           for="email"
           >Email Address</label
         >
         <input
           class="w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-4 focus:ring-blue-300 transition"
           id="email"
           name="email"
           type="email"
           placeholder="john@example.com"
           required
         />
         <p class="mt-1 text-xs text-red-600 hidden" id="emailError">
          Please enter a valid email.
         </p>
        </div>
       </div>
      </fieldset>
      <fieldset class="space-y-4">
       <legend class="text-xl font-semibold text-blue-700 border-b border-blue-300 pb-2">
        Security
       </legend>
       <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <div>
         <label
           class="block text-sm font-medium text-[#475569] mb-2"
           for="password"
           >New Password</label
         >
         <input
           class="w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-4 focus:ring-blue-300 transition"
           id="password"
           name="password"
           type="password"
           placeholder="••••••••"
           minlength="8"
         />
         <p class="mt-1 text-xs text-gray-500">
          Leave blank to keep current password.
         </p>
         <p class="mt-1 text-xs text-red-600 hidden" id="passwordError">
          Password must be at least 8 characters.
         </p>
        </div>
        <div>
         <label
           class="block text-sm font-medium text-[#475569] mb-2"
           for="confirmPassword"
           >Confirm Password</label
         >
         <input
           class="w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-4 focus:ring-blue-300 transition"
           id="confirmPassword"
           name="confirmPassword"
           type="password"
           placeholder="••••••••"
         />
         <p class="mt-1 text-xs text-red-600 hidden" id="confirmPasswordError">
          Passwords do not match.
         </p>
        </div>
       </div>
      </fieldset>
      <fieldset class="space-y-4">
       <legend class="text-xl font-semibold text-blue-700 border-b border-blue-300 pb-2">
        Preferences
       </legend>
       <div class="flex items-center space-x-4">
        <input
          checked
          id="emailNotifications"
          name="emailNotifications"
          type="checkbox"
          class="form-checkbox h-6 w-6 text-blue-600 rounded focus:ring-2 focus:ring-blue-400"
        />
        <label
          for="emailNotifications"
          class="text-gray-700 font-medium select-none"
          >Enable Email Notifications</label
        >
       </div>
       <div class="flex items-center space-x-4">
        <input
          id="darkMode"
          name="darkMode"
          type="checkbox"
          class="form-checkbox h-6 w-6 text-blue-600 rounded focus:ring-2 focus:ring-blue-400"
        />
        <label
          for="darkMode"
          class="text-gray-700 font-medium select-none"
          >Enable Dark Mode</label
        >
       </div>
      </fieldset>
      <div class="pt-6 border-t border-blue-300 flex justify-end space-x-4">
       <button
         type="reset"
         class="px-6 py-3 rounded-lg bg-gray-200 text-gray-700 font-semibold hover:bg-gray-300 transition"
       >
        Reset
       </button>
       <button
         type="submit"
         class="px-6 py-3 rounded-lg bg-blue-600 text-white font-semibold hover:bg-blue-700 transition"
       >
        Save Changes
       </button>
      </div>
     </form>
    </div>
   </section>
  </main>

  <script>
    const form = document.getElementById("settingsForm");
    const usernameInput = form.username;
    const emailInput = form.email;
    const passwordInput = form.password;
    const confirmPasswordInput = form.confirmPassword;
    const emailNotificationsInput = form.emailNotifications;
    const darkModeInput = form.darkMode;

    const usernameError = document.getElementById("usernameError");
    const emailError = document.getElementById("emailError");
    const passwordError = document.getElementById("passwordError");
    const confirmPasswordError = document.getElementById("confirmPasswordError");

    // Load saved settings from localStorage
    function loadSettings() {
      const settings = JSON.parse(localStorage.getItem("userSettings")) || {};
      usernameInput.value = settings.username || "";
      emailInput.value = settings.email || "";
      emailNotificationsInput.checked = settings.emailNotifications ?? true;
      darkModeInput.checked = settings.darkMode ?? false;
      if (darkModeInput.checked) {
        document.documentElement.classList.add("dark");
        document.body.classList.add("bg-gray-900", "text-gray-100");
      }
    }

    // Save settings to localStorage
    function saveSettings(settings) {
      localStorage.setItem("userSettings", JSON.stringify(settings));
    }

    // Validate email format
    function isValidEmail(email) {
      return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);
    }

    // Toggle dark mode styles
    function toggleDarkMode(enabled) {
      if (enabled) {
        document.documentElement.classList.add("dark");
        document.body.classList.add("bg-gray-900", "text-gray-100");
      } else {
        document.documentElement.classList.remove("dark");
        document.body.classList.remove("bg-gray-900", "text-gray-100");
      }
    }

    form.addEventListener("submit", (e) => {
      e.preventDefault();

      // Reset errors
      usernameError.classList.add("hidden");
      emailError.classList.add("hidden");
      passwordError.classList.add("hidden");
      confirmPasswordError.classList.add("hidden");

      let valid = true;

      if (!usernameInput.value.trim()) {
        usernameError.classList.remove("hidden");
        valid = false;
      }

      if (!isValidEmail(emailInput.value.trim())) {
        emailError.classList.remove("hidden");
        valid = false;
      }

      if (passwordInput.value) {
        if (passwordInput.value.length < 8) {
          passwordError.classList.remove("hidden");
          valid = false;
        }
        if (passwordInput.value !== confirmPasswordInput.value) {
          confirmPasswordError.classList.remove("hidden");
          valid = false;
        }
      }

      if (!valid) return;

      // Save settings
      const settings = {
        username: usernameInput.value.trim(),
        email: emailInput.value.trim(),
        emailNotifications: emailNotificationsInput.checked,
        darkMode: darkModeInput.checked,
      };

      saveSettings(settings);
      toggleDarkMode(settings.darkMode);

      alert("Settings saved successfully!");
      form.reset();
      loadSettings();
    });

    // Load settings on page load
    window.addEventListener("DOMContentLoaded", () => {
      loadSettings();
    });

    // Toggle dark mode immediately on checkbox change
    darkModeInput.addEventListener("change", (e) => {
      toggleDarkMode(e.target.checked);
    });
  </script>
 </body>
</html>