<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta content="width=device-width, initial-scale=1" name="viewport" />
  <title>Checkout - Ecommerce with Payment Method Dropdown</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link
    href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap"
    rel="stylesheet"
  />
  <style>
    body {
      font-family: 'Inter', sans-serif;
      background: #FBF8F5;
    }
  </style>
</head>
<body class="min-h-screen flex flex-col">
  <!-- Header -->
  <header class="bg-white shadow-md sticky top-0 z-30">
    <div class="max-w-7xl mx-auto px-6 py-4 flex items-center justify-between">
      <h1 class="text-2xl font-bold text-[#1F3A4D]">Checkout</h1>
      <a href="cart.html" class="text-[#3A6EB0] hover:text-[#1F3A4D] font-semibold flex items-center space-x-2">
        <i class="fas fa-arrow-left"></i>
        <span>Back to Cart</span>
      </a>
    </div>
  </header>

  <main class="max-w-3xl mx-auto px-6 py-8 flex-1">
    <form id="checkoutForm" class="bg-white rounded-lg shadow-md p-8 space-y-8">
      <section>
        <h2 class="text-xl font-semibold text-[#1F3A4D] mb-4">Shipping Information</h2>
        <div class="grid grid-cols-1 sm:grid-cols-2 gap-6">
          <div>
            <label for="firstName" class="block text-[#5F6C72] font-semibold mb-2">First Name</label>
            <input type="text" id="firstName" name="firstName" required class="w-full border border-[#9CC1E7] rounded-lg px-4 py-3 text-[#1F3A4D] focus:outline-none focus:ring-2 focus:ring-[#9CC1E7]" />
          </div>
          <div>
            <label for="lastName" class="block text-[#5F6C72] font-semibold mb-2">Last Name</label>
            <input type="text" id="lastName" name="lastName" required class="w-full border border-[#9CC1E7] rounded-lg px-4 py-3 text-[#1F3A4D] focus:outline-none focus:ring-2 focus:ring-[#9CC1E7]" />
          </div>
          <div class="sm:col-span-2">
            <label for="address" class="block text-[#5F6C72] font-semibold mb-2">Address</label>
            <input type="text" id="address" name="address" required class="w-full border border-[#9CC1E7] rounded-lg px-4 py-3 text-[#1F3A4D] focus:outline-none focus:ring-2 focus:ring-[#9CC1E7]" />
          </div>
          <div>
            <label for="city" class="block text-[#5F6C72] font-semibold mb-2">City</label>
            <input type="text" id="city" name="city" required class="w-full border border-[#9CC1E7] rounded-lg px-4 py-3 text-[#1F3A4D] focus:outline-none focus:ring-2 focus:ring-[#9CC1E7]" />
          </div>
          <div>
            <label for="postalCode" class="block text-[#5F6C72] font-semibold mb-2">Postal Code</label>
            <input type="text" id="postalCode" name="postalCode" required class="w-full border border-[#9CC1E7] rounded-lg px-4 py-3 text-[#1F3A4D] focus:outline-none focus:ring-2 focus:ring-[#9CC1E7]" />
          </div>
          <div>
            <label for="country" class="block text-[#5F6C72] font-semibold mb-2">Country</label>
            <input type="text" id="country" name="country" required class="w-full border border-[#9CC1E7] rounded-lg px-4 py-3 text-[#1F3A4D] focus:outline-none focus:ring-2 focus:ring-[#9CC1E7]" />
          </div>
        </div>
      </section>

      <section>
        <h2 class="text-xl font-semibold text-[#1F3A4D] mb-4">Payment Method</h2>
        <select id="paymentMethod" name="paymentMethod" class="w-full border border-[#9CC1E7] rounded-lg px-4 py-3 text-[#1F3A4D] focus:outline-none focus:ring-2 focus:ring-[#9CC1E7]" aria-label="Select payment method" required>
          <option value="creditCard" selected>Credit/Debit Card</option>
          <option value="paypal">PayPal</option>
          <option value="bankTransfer">Bank Transfer</option>
        </select>
      </section>

      <section id="creditCardDetails" class="mt-6">
        <h2 class="text-xl font-semibold text-[#1F3A4D] mb-4">Credit/Debit Card Details</h2>
        <div class="grid grid-cols-1 sm:grid-cols-2 gap-6">
          <div class="sm:col-span-2">
            <label for="cardNumber" class="block text-[#5F6C72] font-semibold mb-2">Card Number</label>
            <input type="text" id="cardNumber" name="cardNumber" pattern="\d{13,19}" placeholder="1234 5678 9012 3456" class="w-full border border-[#9CC1E7] rounded-lg px-4 py-3 text-[#1F3A4D] focus:outline-none focus:ring-2 focus:ring-[#9CC1E7]" />
          </div>
          <div>
            <label for="expiryDate" class="block text-[#5F6C72] font-semibold mb-2">Expiry Date</label>
            <input type="month" id="expiryDate" name="expiryDate" class="w-full border border-[#9CC1E7] rounded-lg px-4 py-3 text-[#1F3A4D] focus:outline-none focus:ring-2 focus:ring-[#9CC1E7]" />
          </div>
          <div>
            <label for="cvv" class="block text-[#5F6C72] font-semibold mb-2">CVV</label>
            <input type="password" id="cvv" name="cvv" pattern="\d{3,4}" placeholder="123" class="w-full border border-[#9CC1E7] rounded-lg px-4 py-3 text-[#1F3A4D] focus:outline-none focus:ring-2 focus:ring-[#9CC1E7]" />
          </div>
        </div>
      </section>

      <section id="paypalDetails" class="mt-6 hidden">
        <h2 class="text-xl font-semibold text-[#1F3A4D] mb-4">PayPal Details</h2>
        <label for="paypalEmail" class="block text-[#5F6C72] font-semibold mb-2">PayPal Email</label>
        <input type="email" id="paypalEmail" name="paypalEmail" placeholder="you@example.com" class="w-full border border-[#9CC1E7] rounded-lg px-4 py-3 text-[#1F3A4D] focus:outline-none focus:ring-2 focus:ring-[#9CC1E7]" />
      </section>

      <section id="bankTransferDetails" class="mt-6 hidden">
        <h2 class="text-xl font-semibold text-[#1F3A4D] mb-4">Bank Transfer Details</h2>
        <p class="text-[#5F6C72] mb-4">Please transfer the total amount to the following bank account:</p>
        <ul class="text-[#5F6C72] list-disc list-inside space-y-1">
          <li><strong>Bank Name:</strong> Example Bank</li>
          <li><strong>Account Number:</strong> 123456789</li>
          <li><strong>Routing Number:</strong> 987654321</li>
          <li><strong>Account Holder:</strong> Ecommerce Inc.</li>
        </ul>
      </section>

      <section class="text-center">
        <button type="submit" class="bg-[#3A6EB0] hover:bg-[#2a5490] text-white font-bold py-3 px-10 rounded-lg transition w-full sm:w-auto">
          Place Order
        </button>
      </section>
    </form>
  </main>

  <script>
    const form = document.getElementById('checkoutForm');
    const paymentMethodSelect = document.getElementById('paymentMethod');
    const creditCardDetails = document.getElementById('creditCardDetails');
    const paypalDetails = document.getElementById('paypalDetails');
    const bankTransferDetails = document.getElementById('bankTransferDetails');

    function updatePaymentDetailsVisibility() {
      const selectedMethod = paymentMethodSelect.value;
      creditCardDetails.classList.add('hidden');
      paypalDetails.classList.add('hidden');
      bankTransferDetails.classList.add('hidden');

      // Remove required attributes initially
      form.cardNumber.required = false;
      form.expiryDate.required = false;
      form.cvv.required = false;
      form.paypalEmail.required = false;

      if (selectedMethod === 'creditCard') {
        creditCardDetails.classList.remove('hidden');
        form.cardNumber.required = true;
        form.expiryDate.required = true;
        form.cvv.required = true;
      } else if (selectedMethod === 'paypal') {
        paypalDetails.classList.remove('hidden');
        form.paypalEmail.required = true;
      } else if (selectedMethod === 'bankTransfer') {
        bankTransferDetails.classList.remove('hidden');
      }
    }

    paymentMethodSelect.addEventListener('change', updatePaymentDetailsVisibility);

    updatePaymentDetailsVisibility();

    form.addEventListener('submit', (e) => {
      e.preventDefault();

      if (!form.checkValidity()) {
        form.reportValidity();
        return;
      }

      // Here you would handle payment processing and order submission

      alert('Thank you for your order! Your purchase has been placed successfully.');

      // Clear cart after order
      localStorage.removeItem('cart');

      // Redirect to home or browse page
      window.location.href = 'browse.html';
    });
  </script>
</body>
</html>